.game-board-root {
  background: var(--surface);
  box-shadow: 0 2px 16px #4a90e220;
  border-radius: 2.2rem;
  padding: 2.5rem 2.5rem 2rem 2.5rem;
  margin: 1.2rem 0;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.match-three-board {
  display: grid;
  grid-template-columns: repeat(8, 48px);
  grid-template-rows: repeat(8, 48px);
  gap: 5px;
  margin: 0.5rem 0 1.5rem 0;
  background: linear-gradient(120deg, #e8f1fe 90%, #fffcee 100%);
  border-radius: 18px;
  box-shadow: 0 1px 10px #d9f1ff30;
}

.gem-tile {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  box-shadow: 0 2px 5px #4a90e233;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.2rem;
  cursor: pointer;
  user-select: none;
  transition: transform 0.15s, box-shadow 0.18s;
  outline: 2px solid transparent;
  position: relative;
  z-index: 0;
}

.gem-tile.selected, .gem-tile:focus {
  outline: 2.5px solid var(--accent);
  z-index: 2;
  box-shadow: 0 4px 18px #f8a60040;
  transform: scale(1.08) rotate(-3deg);
  background: #fff2ed;
}
.gem-tile.candidate {
  box-shadow: 0 4px 13px #ad4aff83;
  background: #f3e8ff;
  transform: scale(1.04) rotate(2deg);
}

.gem-tile.gem-0 { background: var(--tile-red); }
.gem-tile.gem-1 { background: var(--tile-blue); }
.gem-tile.gem-2 { background: var(--tile-yellow); color: #4a4a2a; }
.gem-tile.gem-3 { background: var(--tile-green); }
.gem-tile.gem-4 { background: var(--tile-purple); }

.gem-tile.cleared {
  animation: pop-gem 0.3s cubic-bezier(.65,.15,.24,1.58) forwards;
}
@keyframes pop-gem {
  0%   { transform: scale(1) rotate(0deg); opacity: 1; }
  70%  { transform: scale(1.3) rotate(-15deg); opacity: 0.8;}
  100% { transform: scale(0.2) rotate(17deg); opacity: 0.01;}
}

.combo-splash {
  font-size: 2.6rem;
  color: var(--accent);
  font-weight: bold;
  position: absolute;
  left: 10%;
  top: 30%;
  animation: combo-pop 1.6s cubic-bezier(.81,-0.17,.17,1.5) forwards;
}
@keyframes combo-pop {
  0%   { transform: scale(1); opacity: 1; }
  50%  { transform: scale(1.4); opacity: 0.85; }
  90%  { transform: scale(0.95); opacity: 0.2; }
  100% { transform: scale(0.7); opacity: 0; }
}
